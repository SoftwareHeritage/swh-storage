Source: swh-storage
Maintainer: Software Heritage developers <swh-devel@inria.fr>
Section: python
Priority: optional
Build-Depends: debhelper (>= 9),
               dh-python (>= 2),
               cassandra,
               openjdk-11-jre,
               python3-aiohttp,
               python3-all,
               python3-cassandra,
               python3-click,
               python3-dateutil,
               python3-flask,
               python3-hypothesis (>= 3.11.0~),
               python3-kafka,
               python3-mypy-extensions,
               python3-psycopg2 (>= 2.8),
               python3-pytest,
               python3-pytest-mock,
               python3-requests,
               python3-setuptools,
               python3-setuptools-scm,
               python3-sqlalchemy (>= 1.0),
               python3-swh.core (>= 0.9),
               python3-swh.counters,
               python3-swh.journal (>= 0.2),
               python3-swh.model (>= 0.4),
               python3-swh.objstorage (>= 0.0.40~),
               python3-swh.core.db.pytestplugin (>= 0.9),
               python3-typing-extensions (>= 3.7.4~),
               python3-tenacity
# Only the jre 11 is supported with cassandra. Unfortunately, some other jre packages
# are pulled, so we prevent those from being installed.
# Related to https://forge.softwareheritage.org/T3053#58819
Build-Conflicts: openjdk-17-jre-headless,
                 openjdk-16-jre-headless,
                 openjdk-15-jre-headless,
Standards-Version: 3.9.6
Homepage: https://forge.softwareheritage.org/diffusion/DSTO/

Package: python3-swh.storage
Architecture: all
Depends: python3-swh.core (>= 0.9),
         python3-swh.model (>= 0.4),
         python3-swh.objstorage (>= 0.0.40~),
         python3-psycopg2 (>= 2.8),
         ${misc:Depends},
         ${python3:Depends}
Breaks: python3-swh.archiver (<< 0.0.4~),
        python3-swh.indexer (<< 0.0.51~),
        python3-swh.vault (<< 0.0.19~)
Description: Software Heritage storage utilities
