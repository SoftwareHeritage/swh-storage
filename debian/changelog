swh-storage (0.29.1-1~swh1~bpo10+1) buster-swh; urgency=medium

  * Rebuild for buster-swh

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 14 May 2021 17:05:44 +0000

swh-storage (0.29.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.29.1     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2021-05-14 18:31:52 +0200)
  * Upstream changes:     - Release swh.storage 0.29.1     - Add missing
    db migration

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 14 May 2021 16:59:42 +0000

swh-storage (0.29.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.29.0     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-05-11 15:04:58 +0200)
  * Upstream changes:     - v0.29.0     - * Make the
    TenaciousProxyStorage retry when a single object add fails     - *
    Move all proxy storages in swh/storage/proxies/     - * Deprecate
    the "local" storage cls in favor of "postgresql"     - * cassandra:
    Add tests checking directory_add and snapshot_add are atomic.     -
    * Add endpoint directory_get_entries, to quickly list a directory's
    entries     - * content_get: Add support for queries by sha1_git

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 11 May 2021 13:12:42 +0000

swh-storage (0.28.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.28.0     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-05-06 15:52:03 +0200)
  * Upstream changes:     - v0.28.0     - * Normalize all
    Storage.xxx_add() methods to return a summary     - * cassandra: Add
    'check_missing' option, to allow updating objects     - * cassandra:
    Add a test of a 'complex' migration, with a PK update     - * Add a
    new TenaciousProxyStorage     - * Make postgresql's origin_add not
    raise an error in case of conflict     - * Stop storing
    authority/fetcher metadata.     - * tenacious: Document potential
    issues about objects being dropped     - * Use swh.core 0.14

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 06 May 2021 14:06:51 +0000

swh-storage (0.27.4-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.27.4     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2021-04-29 14:38:49 +0200)
  * Upstream changes:     - version 0.27.4

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 29 Apr 2021 13:04:46 +0000

swh-storage (0.27.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.27.3     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2021-04-09 14:59:36 +0200)
  * Upstream changes:     - version 0.27.3

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 09 Apr 2021 13:06:58 +0000

swh-storage (0.27.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.27.2     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2021-04-07 15:06:41 +0200)
  * Upstream changes:     - v0.27.2

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 08 Apr 2021 08:05:43 +0000

swh-storage (0.27.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.27.1     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-03-30 17:47:03 +0200)
  * Upstream changes:     - v0.27.1     - * buffer: Add support for
    'extid'

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 30 Mar 2021 15:59:01 +0000

swh-storage (0.27.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.27.0     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-03-29 14:33:24 +0200)
  * Upstream changes:     - v0.27.0     - * origin_visit_status_add: Fix
    inconsistent/incorrect errors when type is None and visit is
    missing.     - * extid: remove unicity on (extid_type, extid) and
    (target_type, target)

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 29 Mar 2021 12:44:14 +0000

swh-storage (0.26.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.26.0     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2021-03-22 14:44:35 +0100)
  * Upstream changes:     - Release swh.storage v0.26.0     - Move
    raw_extrinsic_metadata deduplication to use a new id column.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 22 Mar 2021 21:53:39 +0000

swh-storage (0.25.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.25.0     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2021-03-18 13:55:10 +0100)
  * Upstream changes:     - version 0.25.0

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 18 Mar 2021 13:02:02 +0000

swh-storage (0.24.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.24.1     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-03-04 23:32:36 +0100)
  * Upstream changes:     - v0.24.1     - * tests: Drop hypothesis < 6
    requirement     - * Remove the remaining references to the
    deprecated SWHID class     - * postgresql: Ensure a minimum limit
    for the snapshot branches query

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 04 Mar 2021 22:39:03 +0000

swh-storage (0.24.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.24.0     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2021-03-02 10:00:23 +0100)
  * Upstream changes:     - v0.24.0     - * storage_tests: recompute ids
    when evolving RawExtrinsicMetadata objects.     - *
    RawExtrinsicMetadata: update to use the API in swh-model 1.0.0

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 02 Mar 2021 09:11:15 +0000

swh-storage (0.23.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.23.2     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2021-02-19 11:47:03 +0100)
  * Upstream changes:     - version 0.23.2

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 19 Feb 2021 10:58:50 +0000

swh-storage (0.23.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.23.1     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2021-02-16 17:19:00
    +0100)
  * Upstream changes:     - v0.23.1     - Switch anonymized replayer
    test to use pytest parametrization

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 16 Feb 2021 16:28:25 +0000

swh-storage (0.23.0-1~swh2) unstable-swh; urgency=medium

  * Fix dependency issue

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Tue, 16 Feb 2021 14:34:57 +0100

swh-storage (0.23.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.23.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2021-02-15 15:20:21
    +0100)
  * Upstream changes:     - v0.23.0     - storage: Refactor
    OriginVisitStatus instantiation     - db: Unify sql joins on
    origin_visit_status using "USING"     - storage.postgresql: Use
    origin_visit_status.type value as source     - test_replay: Fix hang
    since confluent-kafka 1.6 release     - postgresql: Fix dbversion()
    to return the max version instead of a random one.     - buffer:
    ensure objects are flushed in topological order     - Return an
    accurate summary from buffer's flush() method     - buffer: add
    support for snapshots     - buffer: add type annotations for tests

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 15 Feb 2021 14:39:04 +0000

swh-storage (0.22.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.22.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2021-02-03 12:09:29
    +0100)
  * Upstream changes:     - v0.22.0     - storage: Make
    origin_get_latest_visit_status return OriginVisitStatus     -
    storage: Change origin_visit_status_get_random interface to return
    visit_status     - Write introduction to swh-storage

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 03 Feb 2021 11:15:27 +0000

swh-storage (0.21.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.21.1     - (tagged by Vincent SELLIER
    <vincent.sellier@softwareheritage.org> on 2021-01-28 14:11:26 +0100)
  * Upstream changes:     - v0.21.1     - * Correctly return
    origin_visit_status.type value everywhere

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 28 Jan 2021 13:19:24 +0000

swh-storage (0.21.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.21.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2021-01-20 15:42:40
    +0100)
  * Upstream changes:     - v0.21.0     - db: Allow new status values
    not_found, failed to OriginVisitStatus

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 20 Jan 2021 14:52:20 +0000

swh-storage (0.20.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.20.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2021-01-20 10:24:00
    +0100)
  * Upstream changes:     - v0.20.0     - storage: Add persistence of
    the field OriginVisitStatus.type     - backfiller: Add type to the
    origin_visit_status topic     - tests: Make test_content_add_race
    fail for the right reason.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 20 Jan 2021 09:29:54 +0000

swh-storage (0.19.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.19.0     - (tagged by Vincent SELLIER
    <vincent.sellier@softwareheritage.org> on 2021-01-14 11:09:17 +0100)
  * Upstream changes:     - v0.19.0     - * 2021-01-12 Adapt cassandra
    storage to ignore the new OriginVisitStatus.type field     - * 2021-
    01-08 Allow to use the JAVA_HOME environment for cassandra tests
    - * 2021-01-13 Enforce hypothesis <6 to prevent test breakage     -
    * 2021-01-08 Make the CREATE_TABLES_QUERIES in cassandra/schema.py
    an explicit list     - * 2020-12-18 Add a cli section in the doc
    - * 2020-11-24 storage.backfill: Allow cli run for
    origin_visit_status as well     - * 2020-11-24 conftest: Reference
    swh.core.db.pytest_plugin

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 14 Jan 2021 10:18:31 +0000

swh-storage (0.18.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.18.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-11-23 14:46:41
    +0100)
  * Upstream changes:     - v0.18.0     - requirements-test.txt: Drop no
    longer needed pytest-postgresql requirement     - backfill: Reverse
    flawed logic in SnapshotBranch generation     -
    migrate_extrinsic_metadata: don't crash when deb revisions aren't
    referenced by any snapshot

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 23 Nov 2020 13:52:32 +0000

swh-storage (0.17.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.17.2     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-11-13 11:56:37 +0100)
  * Upstream changes:     - Release swh.storage 0.17.2     - Future-
    proof get_journal_writer by setting the value_sanitizer argument
    - migrate_extrinsic_metadata improvements     - backfill: only flush
    on every batch

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 13 Nov 2020 11:05:35 +0000

swh-storage (0.17.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.17.1     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2020-11-05 13:50:35 +0100)
  * Upstream changes:     - version 0.17.1

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 05 Nov 2020 12:56:53 +0000

swh-storage (0.17.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.17.0     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-11-03 18:09:53 +0100)
  * Upstream changes:     - Release swh.storage v0.17.0     - Migrate
    all raw extrinsic metadata attributes from id to target     - Add an
    `algos` function to resolve branch aliases     - Prepare updates to
    make swh.journal more generic     - Improve api server
    initialization     - Various updates to the
    migrate_extrinsic_metadata script, notably writing     - most
    metadata on directories instead of revisions

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 03 Nov 2020 17:20:45 +0000

swh-storage (0.16.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.16.0     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-10-09 18:23:24 +0200)
  * Upstream changes:     - Release swh.storage v0.16.0     - Updates to
    the intrinsic metadata migration script     - Various improvements
    to the buffer storage     - Update swh storage backfill to use
    common configuration keys

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 09 Oct 2020 16:33:11 +0000

swh-storage (0.15.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.15.3     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-09-24 20:14:39 +0200)
  * Upstream changes:     - Release swh.storage v0.15.3     - hopefully
    fix the documentation build

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 24 Sep 2020 18:24:14 +0000

swh-storage (0.15.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.15.2     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-09-24 19:22:11 +0200)
  * Upstream changes:     - Release swh.storage v0.15.2     - no change
    rebuild to clean up jenkins fsckup accumulating old files.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 24 Sep 2020 17:28:22 +0000

swh-storage (0.15.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.15.1     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-09-24 18:34:54 +0200)
  * Upstream changes:     - Release swh.storage v0.15.1     - Restore
    buffer proxy behavior with default arguments

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 24 Sep 2020 16:44:22 +0000

swh-storage (0.15.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.15.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-09-24 16:54:07
    +0200)
  * Upstream changes:     - v0.15.0     - Support different database
    flavors in the SQL scripts     - Add the SQL commands used to set up
    the logical replication publication     - Output a warning when the
    version of the database is different than expected     - Improve
    code quality and doc in BufferedProxyStorage     - Adapt cli
    declaration entrypoint to swh.core 0.3     - Add warning about
    skipped_content (sneaking into the 'content' topics)     - graph-
    replayer: fix to prevent wrong warning     - pre-commit: Add isort
    hook and reorder imports with isort     - pytest_plugin: Change
    dbname to storage to avoid clash in tests     - pytest_plugin: Use
    psql to load SQL files instead of connecting with psycopg2

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 24 Sep 2020 15:03:58 +0000

swh-storage (0.14.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.14.3     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-09-17 16:58:59 +0200)
  * Upstream changes:     - v0.14.3

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 17 Sep 2020 16:53:56 +0000

swh-storage (0.14.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.14.2     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-09-11 15:31:22 +0200)
  * Upstream changes:     - v0.14.2

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 11 Sep 2020 13:37:11 +0000

swh-storage (0.14.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.14.1     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-09-04 15:43:51
    +0200)
  * Upstream changes:     - v0.14.1     - algos.diff: Add missed
    revision_get conversion

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 04 Sep 2020 13:52:17 +0000

swh-storage (0.14.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.14.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-09-04 12:23:52
    +0200)
  * Upstream changes:     - v0.14.0     - Refactor revision_get storage
    API to return Revision objects     - cassandra: Discard Content
    ctime field in content_get_partition

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 04 Sep 2020 10:59:54 +0000

swh-storage (0.13.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.13.3     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-09-01 14:34:57
    +0200)
  * Upstream changes:     - v0.13.3     - storage*: release_get(...) ->
    List[Optional[Release]]     - Make StorageInterface a Protocol.     -
    Add a validating storage proxy, to check ids before insertion.     -
    Add a --check-config option for cli commands     - Remove the
    deprecated config-path option from `swh storage rpc-serve` command
    - Add support for a new "check_config" config option in
    get_storage()     - Check for db version mismatch in
    PgStorage.check_config()     - Add a check_dbversion() method to the
    Db class     - Fix pytest_plugin's database janitor: do not truncate
    the dbversion table     - algos.snapshot: Add
    visits_and_snapshots_get_from_revision     - storage/interface:
    Remove deprecated diff endpoints     - storage_tests: Remove
    duplicated postgresql-specific tests.     - Move postgresql-related
    files to swh/storage/postgresql/

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 01 Sep 2020 12:40:29 +0000

swh-storage (0.13.2-1~swh2) unstable-swh; urgency=medium

  * Add mypy-extensions to build-dependencies

 -- Nicolas Dandrimont <olasd@debian.org>  Fri, 21 Aug 2020 12:17:05 +0200

swh-storage (0.13.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.13.2     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-08-20 08:59:39 +0200)
  * Upstream changes:     - v0.13.2     - * pg: Fix crash in
    snapshot_get when the snapshot does not exist.     - * cassandra:
    fix signatures     - * in_memory: rewrite as a backend for the
    cassandra storage     - * remove endpoint
    snapshot_get_by_origin_visit.     - * pg: rewrite converters to work
    with model objects

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 20 Aug 2020 07:18:50 +0000

swh-storage (0.13.1-1~swh3) unstable-swh; urgency=medium

  * Update dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Fri, 07 Aug 2020 21:17:01 +0000

swh-storage (0.13.1-1~swh2) unstable-swh; urgency=medium

  * Update dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Fri, 07 Aug 2020 21:02:01 +0000

swh-storage (0.13.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.13.1     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-08-07 18:14:32 +0200)
  * Upstream changes:     - v0.13.1     - * Make snapshot_get_branches
    return a TypedDict containing SnapshotBranch objects.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 07 Aug 2020 16:23:01 +0000

swh-storage (0.13.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.13.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-08-07 12:38:47
    +0200)
  * Upstream changes:     - v0.13.0     - storage*: Rename and type
    content_get(List[Sha1]) -> List[Optional[Content]]     - storage*:
    Rename content_get_data(Sha1) -> Optional[bytes]     - Simplify as
    Content.ctime None is popped out of a to_dict call in recent model
    - cassandra.storage: Use next token for pagination instead of
    computing it

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 07 Aug 2020 10:49:28 +0000

swh-storage (0.12.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.12.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-08-06 08:50:17
    +0200)
  * Upstream changes:     - v0.12.0     - Type storage endpoints     -
    Drop content_get_range endpoint in favor of content_get_partition

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 06 Aug 2020 06:55:26 +0000

swh-storage (0.11.10-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.10     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-08-04 14:10:21
    +0200)
  * Upstream changes:     - v0.11.10     - tests: Improve coverage on
    directory_ls endpoints     - storage*: Type content_find(...) ->
    List[Content]     - storage*: Type
    {cnt,dir,rev,rel,snp}_get_random(...) -> Sha1Git

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 04 Aug 2020 12:15:21 +0000

swh-storage (0.11.9-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.9     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-08-03 11:55:10
    +0200)
  * Upstream changes:     - v0.11.9     - storage*: Drop origin-get-
    range in favor of origin-list     - storage*: Do not allow unknown
    visit status in origin_visit*_get_latest     - storage*: Add type
    annotation to origin_count     - Reuse swh.core stream_results
    function

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 03 Aug 2020 10:02:56 +0000

swh-storage (0.11.8-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.8     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-07-31 14:57:09 +0200)
  * Upstream changes:     - v0.11.8     - * test_replay: update for
    swh.journal 0.4.1.     - * Add support for metadata-related object
    types to the backfiller and replayer.     - * pg: Rewrite
    _origin_query to force the query planner to filter on URLs before
    filtering on visits.     - * Make raw_extrinsic_metadata_get return
    PagedResult instead of Dict.     - * Rename argument 'object_type'
    of raw_extrinsic_metadata_get to 'type'.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 31 Jul 2020 13:17:40 +0000

swh-storage (0.11.6-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.6     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-30 16:20:48
    +0200)
  * Upstream changes:     - v0.11.6     - storage*: Adapt
    origin_list(...) -> PagedResult[Origin]     - algos.snapshot: Open
    snapshot_id_get_from_revision     - storage*: add
    origin_visit_status_get(...) -> PagedResult[OriginVisitStatus]     -
    Add type annotations on get_storage.     - buffer: Pass lists to
    backend functions, not iterables.     - storage*: Simplify next-page-
    token computation     - filter: Fix types passed to the proxied
    storage.     - Fix upcoming type warning with swh.core > v0.1.2.
    - Make API endpoints take Lists instead of Iterables as arguments
    - storage*: use an enum to explicit the order in origin_visit_get
    - storage*: origin_visit_get(...) -> PagedResult[OriginVisit]     -
    Write metadata + metadata authorities/fetchers to the journal.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 30 Jul 2020 14:29:10 +0000

swh-storage (0.11.5-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.5     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-07-28 09:55:34 +0200)
  * Upstream changes:     - v0.11.5     - in_memory: fix tie-breaking
    when two visits have the same date.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 28 Jul 2020 08:10:21 +0000

swh-storage (0.11.4-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.4     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-27 16:08:42
    +0200)
  * Upstream changes:     - v0.11.4     - Rename object_metadata to
    raw_extrinsic_metadata     - metadata_{authority,fetcher}_add: Fix
    crash when the iterable argument is empty     - storage*:
    origin_visit_get_by -> Optional[OriginVisit]     - storage*:
    origin_visit_find_by_date -> Optional[OriginVisit]     - storage*:
    type origin_visit_get_latest endpoint result     - algos.origin:
    Simplify origin_get_latest_visit_status function

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 27 Jul 2020 14:16:18 +0000

swh-storage (0.11.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.3     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-27 08:01:03
    +0200)
  * Upstream changes:     - v0.11.3     - storage*:
    origin_get(Iterable[str]) -> Iterable[Optional[Origin]]     -
    storage*.origin_visit_get_random: Read model objects

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 27 Jul 2020 06:08:55 +0000

swh-storage (0.11.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.2     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-23 12:09:51
    +0200)
  * Upstream changes:     - v0.11.2     - pgstorage: Drop unnecessary
    indirection from reading origin_visit     - pytest-plugin: Make
    sample_data return data model objects     - tests: Use only model
    objects for testing     - Drop validate storage proxy

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 23 Jul 2020 10:18:15 +0000

swh-storage (0.11.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.1     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-07-20 13:01:20 +0200)
  * Upstream changes:     - v0.11.1     - * Use model objects in tests
    - * Rename 'deposit' authority type to 'deposit_client'.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 20 Jul 2020 11:14:39 +0000

swh-storage (0.11.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.11.0     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-07-20 11:01:10 +0200)
  * Upstream changes:     - v0.11.0     - * Make metadata-related
    endpoints consistent with other endpoints by using Iterables of swh-
    model objects instead of a dict.     - * Update tests to use model
    objects

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 20 Jul 2020 09:12:25 +0000

swh-storage (0.10.6-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.6     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-16 15:31:19
    +0200)
  * Upstream changes:     - v0.10.6     - pytest_plugin: Ensure fixture
    instantiates correctly

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 16 Jul 2020 13:36:34 +0000

swh-storage (0.10.5-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.5     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-16 14:24:50
    +0200)
  * Upstream changes:     - v0.10.5     - pytest_plugin: Do not expose
    the validate proxy storage     - pytest-plugin: Expose a
    sample_data_model fixture     - tests: Start using model objects and
    drop validate proxy when possible

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 16 Jul 2020 12:34:44 +0000

swh-storage (0.10.4-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.4     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-16 11:25:25
    +0200)
  * Upstream changes:     - v0.10.4     - pytest_plugin: Avoid fixture
    client to declare optional dependency     - Allow cassandra binary
    path to be configured through env variable     - 158: Make schema
    and migration converge so the migration works

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 16 Jul 2020 09:37:24 +0000

swh-storage (0.10.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.3     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2020-07-10 16:26:27 +0200)
  * Upstream changes:     - version 0.10.3

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 10 Jul 2020 14:40:28 +0000

swh-storage (0.10.2-1~swh2) unstable-swh; urgency=medium

  * Fix debian rules to avoid double pytest-plugin loading clash

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Fri, 10 Jul 2020 09:21:14 +0200

swh-storage (0.10.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.2     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-10 08:30:37
    +0200)
  * Upstream changes:     - v0.10.2     - tests: Do no expose the pytest-
    plugin through setuptools entry     - Convert ImmutableDict to dict
    before passing it to json.dumps     - docs: Rework dia -> pdf
    pipeline for inkscape 1.0

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 10 Jul 2020 06:52:42 +0000

swh-storage (0.10.1-1~swh2) unstable-swh; urgency=medium

  * Update runtime dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Wed, 08 Jul 2020 14:56:01 +0200

swh-storage (0.10.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.1     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-08 14:32:52
    +0200)
  * Upstream changes:     - v0.10.1     - extract-pytest-fixture Move
    shareable fixtures out of conftest into a dedicated pytest plugin
    - Migrate from vcversioner to setuptools-scm

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 08 Jul 2020 12:39:15 +0000

swh-storage (0.10.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.10.0     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-07-08 09:20:49 +0200)
  * Upstream changes:     - v0.10.0

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 08 Jul 2020 10:11:09 +0000

swh-storage (0.9.3-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.9.3     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-06 09:55:56
    +0200)
  * Upstream changes:     - v0.9.3     - storage: Send metrics from the
    origin_add endpoint

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 06 Jul 2020 08:06:13 +0000

swh-storage (0.9.2-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.9.2     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-03 18:48:39
    +0200)
  * Upstream changes:     - v0.9.2     - pg-storage: Add missing cur
    parameter passing

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 03 Jul 2020 16:54:13 +0000

swh-storage (0.9.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.9.1     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-03 16:50:45
    +0200)
  * Upstream changes:     - v0.9.1     - storage.db: Drop
    db.origin_visit_upsert behavior

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 03 Jul 2020 15:00:32 +0000

swh-storage (0.9.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.9.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-07-01 09:53:34
    +0200)
  * Upstream changes:     - v0.9.0     - storage*: Drop intermediary
    conversion step into OriginVisit     - pg: use 'on conflict do
    nothing' strategy for duplicate metadata rows.     - Make the code
    location of metadata endpoints consistent across backends.     - Add
    content_metadata_{add,get}.     - Add context columns to
    object_metadata table and object_metadata_{add,get}.     -
    Generalize origin_metadata to allow support for other object types
    in the future.     - Work around the segmentation faults caused by
    pytest-coverage + multiprocessing.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 01 Jul 2020 08:02:08 +0000

swh-storage (0.8.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.8.1     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-06-30 10:08:21 +0200)
  * Upstream changes:     - v0.8.1

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 30 Jun 2020 08:36:45 +0000

swh-storage (0.8.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.8.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-29 09:33:12
    +0200)
  * Upstream changes:     - v0.8.0     - Iterate over paginated visits
    in batches to retrieve latest visit/snapshot     - storage*: Open
    order parameter to origin-visit-get endpoint     -
    tests/replayer/storage*: Drop obsolete origin visit fields     -
    Relax checks on journal writes regarding origin-visit*     -
    replayer: Fix isoformat datetime string for origin-visit     -
    Deprecate the origin_add_one() endpoint     - test_storage: Add
    missing tests on origin_visit_get method

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 29 Jun 2020 07:44:00 +0000

swh-storage (0.7.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.7.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-22 15:42:25
    +0200)
  * Upstream changes:     - v0.7.0     - test_origin: Rename
    appropriately tests     - algos: Improve origin visit get latest
    visit status algorithm     - test_snapshot: Do not use
    origin_visit_add returned result     - algos.snapshot: Fix edge case
    when snapshot is not resolved     - Ensure ids are correct in tests'
    storage_data     - Fix tests' storage_data revisions     - SQL:
    replace the hash(url) index by a unique btree(url) on the origin
    table     - Make sure the pagination in swh_snapshot_get_by_id uses
    the proper indexes

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 22 Jun 2020 14:09:33 +0000

swh-storage (0.6.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.6.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-19 11:29:42
    +0200)
  * Upstream changes:     - v0.6.0     - Move deprecated endpoint
    snapshot_get_latest from api endpoint to algos     - algos.origin:
    Open origin-get-latest-visit-status function     - storage*: Allow
    origin-visit-get-latest to filter on type     - test_origin: Align
    storage initialization within tests

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 19 Jun 2020 12:45:32 +0000

swh-storage (0.5.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.5.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-17 16:03:15
    +0200)
  * Upstream changes:     - v0.5.0     - test_storage: Fix flakiness in
    round to milliseconds test util method     - storage*: Add origin-
    visit-status-get-latest endpoint     - Fix/update the backfiller
    - validate: accept model objects as well as dicts on all add
    endpoints     - cql: Fix blackified strings     - storage: Add
    missing cur parameter     - Fix db_to_author() converter to return
    None is all fields are None

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 17 Jun 2020 14:19:37 +0000

swh-storage (0.4.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.4.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-16 09:50:25
    +0200)
  * Upstream changes:     - v0.4.0     - ardumont/master storage*: Drop
    leftover code     - storage*: Drop origin_visit_upsert endpoint     -
    storage*: Remove origin-visit-update endpoint     - replay: Replay
    origin-visit and origin-visit-status     - in_memory: Make origin-
    visit-status-add respect "on conflict ignore" policy     -
    test_storage: Add journal behavior coverage for origin-visit-*add
    - Start migrating the validate proxy toward using BaseModel objects
    - storage*: Do not write twice origin-visit-status in journal

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 16 Jun 2020 07:58:23 +0000

swh-storage (0.3.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.3.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-12 09:08:23
    +0200)
  * Upstream changes:     - v0.3.0     - origin-visit-add storage*:
    Align origin-visit-add to take iterable of OriginVisit objects

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 12 Jun 2020 07:22:03 +0000

swh-storage (0.2.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.2.0     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-06-10 11:51:30
    +0200)
  * Upstream changes:     - v0.2.0     - origin-visit-upsert: Write
    visit status objects to the journal     - origin-visit-update: Write
    visit status objects to the journal     - origin-visit-add: Write
    visit status to the journal     - Add pagination to
    origin_metadata_get.     - Deduplicate origin-metadata when they
    have the same authority + discovery_date + fetcher.     - Open
    `origin_visit_status_add` endpoint to add origin visit statuses     -
    Add a replayer test for anonymized journal topics     - Small
    refactoring of the InMemoryStorage to make it more consistent

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 10 Jun 2020 10:02:45 +0000

swh-storage (0.1.1-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.1.1     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-06-04 16:49:22 +0200)
  * Upstream changes:     - Release swh.storage v0.1.1     - Work around
    tests hanging during Debian build

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 04 Jun 2020 14:56:54 +0000

swh-storage (0.1.0-2~swh1) unstable-swh; urgency=medium

  * Update dependencies.

 -- David Douard <david.douard@sdfa3.org>  Thu, 04 Jun 2020 13:40:52 +0200

swh-storage (0.1.0-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.1.0     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-06-04 12:08:46 +0200)
  * Upstream changes:     - v0.1.0

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 04 Jun 2020 10:28:43 +0000

swh-storage (0.0.193-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.193     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-05-28 14:28:54
    +0200)
  * Upstream changes:     - v0.0.193     - pg: Write origin visit
    updates & status, read from origin_visit_status     - Make
    content.blake2s256 not null.     - Remove unused SQL functions.     -
    README: Update necessary dependencies for test purposes     - Add a
    pre-commit hook to check there are version bumps in
    sql/upgrades/*.sql     - Add missing dbversion bump in 150.sql.     -
    Add artifact metadata to the extrinsic metadata storage
    specification.     - Add not null constraints to
    metadata_authority/origin_metadata     - Realign schema with latest
    149 migration script

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 28 May 2020 12:37:58 +0000

swh-storage (0.0.192-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.192     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-05-19 18:42:00 +0200)
  * Upstream changes:     - v0.0.192     - * origin_metadata_add: Reject
    non-bytes types for 'metadata'.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 19 May 2020 16:54:00 +0000

swh-storage (0.0.191-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.191     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-05-19 13:43:35 +0200)
  * Upstream changes:     - v0.0.191     - * Implement the new extrinsic
    metadata specification/vocabulary.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 19 May 2020 11:52:00 +0000

swh-storage (0.0.190-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.190     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-05-18 14:10:39
    +0200)
  * Upstream changes:     - v0.0.190     - storage: metadata_provider:
    Ensure idempotency when creating provider     - journal: add a
    skipped_content topic dedicated to SkippedContent objects     - Add
    missing return annotations on JournalWriter methods     - Improve a
    bit the exception message of JournalWriter.content_update     -
    Refactor the JournalWriter class to normalize its methods     -
    tests: fix test_replay; do only use aware datetime objects     -
    test_kafka_writer: Add missing object type skipped_content

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 18 May 2020 12:18:09 +0000

swh-storage (0.0.189-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.189     - (tagged by Antoine R. Dumont
    (@ardumont) <ardumont@softwareheritage.org> on 2020-04-30 14:50:54
    +0200)
  * Upstream changes:     - v0.0.189     - pg: Write both origin visit
    updates & status, read from origin_visit     - pg-storage: Add new
    created state     - setup.py: add documentation link     - metadata
    spec: Fix title hierarchy     - tests: Use aware datetimes instead
    of naive ones.     - cassandra: Adapt internal implementations to
    use origin visit status     - in_memory: Adapt internal
    implementations to use origin visit status

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 30 Apr 2020 12:58:57 +0000

swh-storage (0.0.188-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.188     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2020-04-28 13:44:20 +0200)
  * Upstream changes:     - v0.0.188

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 28 Apr 2020 11:52:08 +0000

swh-storage (0.0.187-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.187     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-04-14 18:13:08
    +0200)
  * Upstream changes:     - v0.0.187     - storage.interface: Actually
    define the remote flush operation

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 14 Apr 2020 16:23:41 +0000

swh-storage (0.0.186-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.186     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-04-14 17:09:22 +0200)
  * Upstream changes:     - Release swh.storage v0.0.186     - Drop
    backwards-compatibility code with swh.journal < 0.0.30

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 14 Apr 2020 15:20:57 +0000

swh-storage (0.0.185-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.185     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-04-14 14:15:32
    +0200)
  * Upstream changes:     - v0.0.185     - storage.filter: Remove
    internal state     - test: update storage tests to (future)
    swh.journal 0.0.30

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 14 Apr 2020 12:22:06 +0000

swh-storage (0.0.184-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.184     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-04-10 16:07:32
    +0200)
  * Upstream changes:     - v0.0.184     - storage*: Add flush endpoints
    to storage implems (backend, proxy)     - test_retry: Add missing
    skipped_content_add tests

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 10 Apr 2020 14:14:20 +0000

swh-storage (0.0.183-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.183     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-04-09 12:35:53
    +0200)
  * Upstream changes:     - v0.0.183     - proxy storage: Add a
    clear_buffers endpoint     - buffer proxy storage: Filter out
    duplicate objects prior to storage write     - storage: Prevent
    erroneous HashCollisions by using the same ctime for all rows.     -
    Enable black     - origin_visit_update: ensure it raises a
    StorageArgumentException     - Adapt cassandra backend to validating
    model types     - tests: many refactoring improvements     - tests:
    Shut down cassandra connection before closing the fixture down     -
    Add more type annotations

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 09 Apr 2020 10:46:29 +0000

swh-storage (0.0.182-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.182     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-03-27 07:02:13
    +0100)
  * Upstream changes:     - v0.0.182     - storage*: Update
    origin_visit_update to make status parameter mandatory     - test:
    Adapt origin validation test according to latest model changes     -
    Respec discovery_date as a Python datetime instead of an ISO string.
    - origin_visit_add: Add missing db/cur argument to call to
    origin_get.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 27 Mar 2020 06:13:17 +0000

swh-storage (0.0.181-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.181     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-03-25 09:50:49
    +0100)
  * Upstream changes:     - v0.0.181     - storage*: Hex encode content
    hashes in HashCollision exception     - Add format of discovery_date
    in the metadata specification.     - Store the value of
    token(partition_key) in skipped_content_by_* table, instead of three
    hashes.     - Store the value of token(partition_key) in
    content_by_* table, instead of three hashes.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 25 Mar 2020 09:03:43 +0000

swh-storage (0.0.180-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.180     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-03-18 18:24:41 +0100)
  * Upstream changes:     - Release swh.storage v0.0.180     - Stop
    counting origin additions multiple times in statsd

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 18 Mar 2020 17:45:36 +0000

swh-storage (0.0.179-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.179     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2020-03-18 16:05:13 +0100)
  * Upstream changes:     - Release swh.storage v0.0.179.     - fix
    requirements-swh.txt to use proper version restriction     - reduce
    the transaction load for content writes and reads

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 18 Mar 2020 15:50:50 +0000

swh-storage (0.0.178-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.178     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-03-16 12:51:28
    +0100)
  * Upstream changes:     - v0.0.178     - origin_visit_add: Adapt
    endpoint signature to return OriginVisit     - origin_visit_upsert:
    Use OriginVisit object as input     - storage/writer: refactor
    JournalWriter.content_add to send model objects

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 16 Mar 2020 11:59:18 +0000

swh-storage (0.0.177-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.177     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-03-10 11:37:33
    +0100)
  * Upstream changes:     - v0.0.177     - storage: Identify and provide
    the collision hashes in exception     - Guarantee the order of
    results for revision_get and release_get     - tests: Improve test
    speed     - sql: do not attempt to create the plpgsql lang if
    already exists     - Update requirement on swh.core for RPCClient
    method overrides

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 10 Mar 2020 10:48:11 +0000

swh-storage (0.0.176-1~swh2) unstable-swh; urgency=medium

  * Update build dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Mon, 02 Mar 2020 14:36:00 +0100

swh-storage (0.0.176-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.176     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-02-28 14:44:10 +0100)
  * Upstream changes:     - v0.0.176     - * Accept cassandra-driver >=
    3.22.     - * Make the RPC client and objstorage helper fetch
    Content.data from lazy     - contents.     - * Move ctime out of the
    validation proxy.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 28 Feb 2020 15:21:27 +0000

swh-storage (0.0.175-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.175     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2020-02-20 13:51:40 +0100)
  * Upstream changes:     - version 0.0.175

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 20 Feb 2020 13:18:34 +0000

swh-storage (0.0.174-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.174     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-02-19 14:18:59 +0100)
  * Upstream changes:     - v0.0.174     - * Fix inconsistent behavior
    of skipped_content_missing across backends.     - * Fix
    FilteringProxy to not drop skipped-contents with a missing sha1_git.
    - * Make storage proxies use swh-model objects instead of dicts.
    - * Add support for (de)serializing swh-model in RPC calls.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 19 Feb 2020 15:00:32 +0000

swh-storage (0.0.172-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.172     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-02-12 14:00:04 +0100)
  * Upstream changes:     - v0.0.172     - * Unify exception raised by
    invalid input to API endpoints.     - * Add a validation proxy for
    _add() methods. This proxy is *required*     - in front of all
    backends whose _add() methods may be called or they'll     - crash
    at runtime.     - * Fix RecursionError when storage proxies are
    deepcopied or unpickled.     - * storages: Refactor objstorage
    operations with a dedicated collaborator     - * storages: Refactor
    journal operations with a dedicated writer collab

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 12 Feb 2020 13:13:47 +0000

swh-storage (0.0.171-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.171     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-02-06 14:46:05 +0100)
  * Upstream changes:     - v0.0.171     - * Split 'content_add' method
    into 'content_add' and 'skipped_content_add'.     - * Increase
    Cassandra requests timeout to 1 second.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 06 Feb 2020 14:07:37 +0000

swh-storage (0.0.170-1~swh3) unstable-swh; urgency=medium

  * Update build dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Mon, 03 Feb 2020 17:30:38 +0100

swh-storage (0.0.170-1~swh2) unstable-swh; urgency=medium

  * Update build dependencies

 -- Antoine R. Dumont (@ardumont) <ardumont@softwareheritage.org>  Mon, 03 Feb 2020 16:00:39 +0100

swh-storage (0.0.170-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.170     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-02-03 14:11:53
    +0100)
  * Upstream changes:     - v0.0.170     - swh.storage.cassandra: Add
    Cassandra backend implementation

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 03 Feb 2020 13:23:48 +0000

swh-storage (0.0.169-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.169     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-01-30 13:40:00
    +0100)
  * Upstream changes:     - v0.0.169     - retry: Add retry behavior on
    pipeline storage with flushing failure

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 30 Jan 2020 13:26:23 +0000

swh-storage (0.0.168-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.168     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2020-01-30 11:19:31 +0100)
  * Upstream changes:     - v0.0.168     - * Implement content_update
    for the in-mem storage.     - * Remove cur/db arguments from the in-
    mem storage.     - * Move Storage documentation and endpoint paths
    to a new StorageInterface class     - * Rename in_memory.Storage to
    in_memory.InMemoryStorage.     - * CONTRIBUTORS: add Daniele
    Serafini

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 30 Jan 2020 10:25:30 +0000

swh-storage (0.0.167-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.167     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-01-24 14:55:57
    +0100)
  * Upstream changes:     - v0.0.167     - pgstorage: Empty temp tables
    instead of dropping them

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 24 Jan 2020 14:01:57 +0000

swh-storage (0.0.166-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.166     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-01-24 09:51:52
    +0100)
  * Upstream changes:     - v0.0.166     - storage: Add endpoint to get
    missing content (by sha1_git) and missing snapshot     - Remove
    redundant config checks in load_and_check_config     - Remove 'id'
    and 'object_id' from the output of object_find_by_sha1_git     -
    Make origin_visit_get_random return None instead of {} if there are
    no results     - docs: Fix sphinx warnings

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 24 Jan 2020 09:00:12 +0000

swh-storage (0.0.165-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.165     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-01-17 14:04:53
    +0100)
  * Upstream changes:     - v0.0.165     - storage.retry: Fix objects
    loading when using generator parameters

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 17 Jan 2020 13:09:39 +0000

swh-storage (0.0.164-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.164     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2020-01-16 17:54:40 +0100)
  * Upstream changes:     - version 0.0.164

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 16 Jan 2020 17:05:02 +0000

swh-storage (0.0.163-1~swh2) unstable-swh; urgency=medium

  * Fix test dependency

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 14 Jan 2020 17:26:08 +0100

swh-storage (0.0.163-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.163     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2020-01-14 17:12:03
    +0100)
  * Upstream changes:     - v0.0.163     - retry: Improve proxy storage
    for add endpoints     - in_memory: Make directory_get_random return
    None when storage empty     - storage: Change content_get_metadata
    api to return Dict[bytes, List[Dict]]     - storage: Add
    content_get_partition endpoint to replace content_get_range     -
    storage: Add endpoint origin_list to replace origin_get_range

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 14 Jan 2020 16:17:45 +0000

swh-storage (0.0.162-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.162     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-12-16 14:37:44 +0100)
  * Upstream changes:     - v0.0.162     - Add
    {content,directory,revision,release,snapshot}_get_random.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 16 Dec 2019 13:41:39 +0000

swh-storage (0.0.161-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.161     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-12-10 15:03:28
    +0100)
  * Upstream changes:     - v0.0.161     - storage: Add endpoint to
    randomly pick an origin

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 10 Dec 2019 14:08:15 +0000

swh-storage (0.0.160-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.160     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-12-06 11:15:48
    +0100)
  * Upstream changes:     - v0.0.160     - storage.buffer: Buffer
    release objects as well     - storage.tests: Unify tests sample data
    - Implement origin lookup by sha1

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 06 Dec 2019 10:23:44 +0000

swh-storage (0.0.159-1~swh2) unstable-swh; urgency=medium

  * Force fast hypothesis profile when running tests

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 26 Nov 2019 17:08:16 +0100

swh-storage (0.0.159-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.159     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-11-22 11:05:41
    +0100)
  * Upstream changes:     - v0.0.159     - Add 'pipeline' storage
    "class" for more readable configurations.     - tests: Improve tests
    environments configuration     - Fix a few typos reported by
    codespell     - Add a pre-commit-hooks.yaml config file     - Remove
    utils/(dump|fix)_revisions scripts

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 22 Nov 2019 10:10:31 +0000

swh-storage (0.0.158-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.158     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-11-14 13:33:00
    +0100)
  * Upstream changes:     - v0.0.158     - Drop schemata module
    (migrated back to swh-lister)

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 14 Nov 2019 12:37:18 +0000

swh-storage (0.0.157-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.157     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2019-11-13 13:22:39 +0100)
  * Upstream changes:     - Release swh.storage 0.0.157     -
    schemata.distribution: Fix bogus NotImplementedError on
    Area.index_uris

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 13 Nov 2019 12:27:07 +0000

swh-storage (0.0.156-1~swh2) unstable-swh; urgency=medium

  * Add version constraint on psycopg2

 -- Nicolas Dandrimont <olasd@debian.org>  Wed, 30 Oct 2019 18:21:34 +0100

swh-storage (0.0.156-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.156     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-10-30 15:12:10 +0100)
  * Upstream changes:     - v0.0.156     - * Stop supporting origin ids
    in API (except in origin_get_range).     - * Make visit['origin'] a
    string everywhere (instead of a dict).

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 30 Oct 2019 14:29:28 +0000

swh-storage (0.0.155-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.155     - (tagged by David Douard
    <david.douard@sdfa3.org> on 2019-10-30 12:14:14 +0100)
  * Upstream changes:     - v0.0.155

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 30 Oct 2019 11:18:37 +0000

swh-storage (0.0.154-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.154     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-10-17 13:47:57
    +0200)
  * Upstream changes:     - v0.0.154     - Fix tests in debian build

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 17 Oct 2019 11:52:46 +0000

swh-storage (0.0.153-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.153     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-10-17 13:21:00
    +0200)
  * Upstream changes:     - v0.0.153     - Deploy new test fixture

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 17 Oct 2019 11:26:12 +0000

swh-storage (0.0.152-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.152     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-10-08 16:55:43
    +0200)
  * Upstream changes:     - v0.0.152     - swh.storage.buffer: Add
    buffering proxy storage implementation     - swh.storage.filter: Add
    filtering storage implementation     - swh.storage.tests: Improve db
    transaction handling     - swh.storage.tests: Add more tests     -
    swh.storage.storage: introduce a db() context manager

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 08 Oct 2019 15:03:16 +0000

swh-storage (0.0.151-1~swh2) unstable-swh; urgency=medium

  * Add missing build-dependency on python3-swh.journal

 -- Nicolas Dandrimont <olasd@debian.org>  Tue, 01 Oct 2019 18:28:19 +0200

swh-storage (0.0.151-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.151     - (tagged by Stefano Zacchiroli
    <zack@upsilon.cc> on 2019-10-01 10:04:36 +0200)
  * Upstream changes:     - v0.0.151     - * tox: anticipate mypy run to
    just after flake8     - * mypy.ini: be less flaky w.r.t. the
    packages installed in tox     - * storage.py: ignore typing of
    optional get_journal_writer import     - * mypy: ignore swh.journal
    to work-around dependency loop     - * init.py: switch to documented
    way of extending path     - * typing: minimal changes to make a no-
    op mypy run pass     - * Write objects to the journal only if they
    don't exist yet.     - * Use origin URLs for
    skipped_content['origin'] instead of origin ids.     - * Properly
    mock get_journal_writer for the remote-pg-storage tests.     - *
    journal_writer: use journal writer from swh.journal     - * fix
    typos in docstrings and sample paths     - *
    storage.origin_visit_add: Remove deprecated 'ts' parameter     - *
    click "required" param wants bool, not int

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 01 Oct 2019 08:09:53 +0000

swh-storage (0.0.150-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.150     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-09-04 16:09:59
    +0200)
  * Upstream changes:     - v0.0.150     - tests/test_storage: Remove
    failing assertion after swh-model update     - tests/test_storage:
    Fix tests execution with psycopg2 < 2.8

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 04 Sep 2019 14:16:09 +0000

swh-storage (0.0.149-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.149     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-09-03 14:00:57
    +0200)
  * Upstream changes:     - v0.0.149     - Add support for origin_url in
    origin_metadata_*     - Make origin_add/origin_visit_update validate
    their input     - Make snapshot_add validate its input     - Make
    revision_add and release_add validate their input     - Make
    directory_add validate its input     - Make content_add validate its
    input using swh-model

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 03 Sep 2019 12:27:51 +0000

swh-storage (0.0.148-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.148     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-08-23 10:33:02 +0200)
  * Upstream changes:     - v0.0.148     - Tests improvements:     - *
    Remove 'next_branch' from test input data.     - * Fix off-by-one
    error when using origin_visit_upsert on with an unknown visit id.
    - * Use explicit arguments for origin_visit_add.     - * Remove
    test_content_missing__marked_missing, it makes no sense.     - Drop
    person ids:     - * Stop leaking person ids.     - * Remove
    person_get endpoint.     - Logging fixes:     - * Enforce log level
    for the werkzeug logger.     - * Eliminate warnings about %TYPE.
    - * api: use RPCServerApp and RPCClient instead of deprecated
    classes     - Other:     - * Add support for skipped content in in-
    memory storage

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 23 Aug 2019 08:48:21 +0000

swh-storage (0.0.147-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.147     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-07-18 12:11:37 +0200)
  * Upstream changes:     - Make origin_get ignore the `type` argument

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 18 Jul 2019 10:16:16 +0000

swh-storage (0.0.146-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.146     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-07-18 10:46:21 +0200)
  * Upstream changes:     - Progress toward getting rid of origin ids
    - * Less dependency on origin ids in the in-mem storage     - * add
    the SWH_STORAGE_IN_MEMORY_ENABLE_ORIGIN_IDS env var     - * Remove
    legacy behavior of snapshot_add

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 18 Jul 2019 08:52:09 +0000

swh-storage (0.0.145-1~swh3) unstable-swh; urgency=medium

  * Properly rebuild for unstable-swh

 -- Nicolas Dandrimont <olasd@debian.org>  Thu, 11 Jul 2019 14:03:30 +0200

swh-storage (0.0.145-1~swh2) buster-swh; urgency=medium

  * Remove useless swh.scheduler dependency

 -- Nicolas Dandrimont <olasd@debian.org>  Thu, 11 Jul 2019 13:53:45 +0200

swh-storage (0.0.145-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.145     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-07-02 12:00:53 +0200)
  * Upstream changes:     - v0.0.145     - Add an
    'origin_visit_find_by_date' endpoint.     - Add support for origin
    urls in all endpoints

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 02 Jul 2019 10:19:19 +0000

swh-storage (0.0.143-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.143     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-06-05 13:18:14 +0200)
  * Upstream changes:     - Add test for snapshot/release counters.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 01 Jul 2019 12:38:40 +0000

swh-storage (0.0.142-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.142     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-06-11 15:24:49 +0200)
  * Upstream changes:     - Mark network tests, so they can be disabled.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 11 Jun 2019 13:44:19 +0000

swh-storage (0.0.141-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.141     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-06-06 17:05:03 +0200)
  * Upstream changes:     - Add support for using URL instead of ID in
    snapshot_get_latest.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 11 Jun 2019 10:36:32 +0000

swh-storage (0.0.140-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.140     - (tagged by mihir(faux__)
    <karbelkar.mihir@gmail.com> on 2019-03-24 21:47:31 +0530)
  * Upstream changes:     - Changes the output of content_find method to
    a list in case of hash collisions and makes the sql query on python
    side and added test duplicate input, colliding sha256 and colliding
    blake2s256

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 16 May 2019 12:09:04 +0000

swh-storage (0.0.139-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.139     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2019-04-18 17:57:57 +0200)
  * Upstream changes:     - Release swh.storage v0.0.139     - Backwards-
    compatibility improvements for snapshot_add     - Better
    transactionality in revision_add/release_add     - Fix backwards
    metric names     - Handle shallow histories properly

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 18 Apr 2019 16:08:28 +0000

swh-storage (0.0.138-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.138     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-04-09 16:40:49 +0200)
  * Upstream changes:     - Use the db_transaction decorator on all
    _add() methods.     - So they gracefully release the connection on
    error instead     - of relying on reference-counting to call the
    Db's `__del__`     - (which does not happen in Hypothesis tests)
    because a ref     - to it is kept via the traceback object.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 09 Apr 2019 16:50:48 +0000

swh-storage (0.0.137-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.137     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-04-08 15:40:24 +0200)
  * Upstream changes:     - Make test_origin_get_range run faster.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 08 Apr 2019 13:56:16 +0000

swh-storage (0.0.135-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.135     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-04-04 20:42:32 +0200)
  * Upstream changes:     - Make content_add_metadata require a ctime
    argument.     - This makes Python set the ctime instead of pgsql.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 05 Apr 2019 14:43:28 +0000

swh-storage (0.0.134-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.134     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-04-03 13:38:58 +0200)
  * Upstream changes:     - Don't leak origin ids to the journal.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 04 Apr 2019 10:16:09 +0000

swh-storage (0.0.132-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.132     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-04-01 11:50:30 +0200)
  * Upstream changes:     - Use sha1 instead of bigint as FK from
    origin_visit to snapshot (part 1: add new column)

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 01 Apr 2019 13:30:48 +0000

swh-storage (0.0.131-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.131     - (tagged by Nicolas Dandrimont
    <nicolas@dandrimont.eu> on 2019-03-28 17:24:44 +0100)
  * Upstream changes:     - Release swh.storage v0.0.131     - Add
    statsd metrics to storage RPC backend     - Clean up
    snapshot_add/origin_visit_update     - Uniformize RPC backend to use
    POSTs everywhere

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 28 Mar 2019 16:34:07 +0000

swh-storage (0.0.130-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.130     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-02-26 10:50:44 +0100)
  * Upstream changes:     - Add an helper function to list all origins
    in the storage.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 13 Mar 2019 14:01:04 +0000

swh-storage (0.0.129-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.129     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-02-27 10:42:29 +0100)
  * Upstream changes:     - Double the timeout of revision_get.     -
    Metadata indexers often hit the limit.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 01 Mar 2019 10:11:28 +0000

swh-storage (0.0.128-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.128     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-02-21 14:59:22
    +0100)
  * Upstream changes:     - v0.0.128     - api.server: Fix wrong
    exception type     - storage.cli: Fix cli entry point name to the
    expected name (setup.py)

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 21 Feb 2019 14:07:23 +0000

swh-storage (0.0.127-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.127     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-02-21 13:34:19
    +0100)
  * Upstream changes:     - v0.0.127     - api.wsgi: Open wsgi
    entrypoint and check config at startup time     - api.server: Make
    the api server load and check its configuration     -
    swh.storage.cli: Migrate the api server startup in swh.storage.cli

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 21 Feb 2019 12:59:48 +0000

swh-storage (0.0.126-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.126     - (tagged by Valentin Lorentz
    <vlorentz@softwareheritage.org> on 2019-02-21 10:18:26 +0100)
  * Upstream changes:     - Double the timeout of snapshot_get_latest.
    - Metadata indexers often hit the limit.

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 21 Feb 2019 11:24:52 +0000

swh-storage (0.0.125-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.125     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-02-14 10:13:31
    +0100)
  * Upstream changes:     - v0.0.125     - api/server: Do not read
    configuration at each request

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 14 Feb 2019 16:57:01 +0000

swh-storage (0.0.124-1~swh3) unstable-swh; urgency=low

  * New upstream release, fixing the distribution this time

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 14 Feb 2019 17:51:29 +0100

swh-storage (0.0.124-1~swh2) unstable; urgency=medium

  * New upstream release for dependency fix reasons

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 14 Feb 2019 09:27:55 +0100

swh-storage (0.0.124-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.124     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2019-02-12 14:40:53 +0100)
  * Upstream changes:     - version 0.0.124

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Tue, 12 Feb 2019 13:46:08 +0000

swh-storage (0.0.123-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.123     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-02-08 15:06:49
    +0100)
  * Upstream changes:     - v0.0.123     - Make Storage.origin_get
    support a list of origins, like other     - Storage.*_get methods.
    - Stop using _to_bytes functions.     - Use the BaseDb (and friends)
    from swh-core

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 08 Feb 2019 14:14:18 +0000

swh-storage (0.0.122-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.122     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2019-01-28 11:57:27 +0100)
  * Upstream changes:     - version 0.0.122

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 28 Jan 2019 11:02:45 +0000

swh-storage (0.0.121-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.121     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2019-01-28 11:31:48 +0100)
  * Upstream changes:     - version 0.0.121

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Mon, 28 Jan 2019 10:36:40 +0000

swh-storage (0.0.120-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.120     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2019-01-17 12:04:27 +0100)
  * Upstream changes:     - version 0.0.120

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Thu, 17 Jan 2019 11:12:47 +0000

swh-storage (0.0.119-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.119     - (tagged by Antoine R. Dumont
    (@ardumont) <antoine.romain.dumont@gmail.com> on 2019-01-11 11:57:13
    +0100)
  * Upstream changes:     - v0.0.119     - listener: Notify Kafka when
    an origin visit is updated

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Fri, 11 Jan 2019 11:02:07 +0000

swh-storage (0.0.118-1~swh1) unstable-swh; urgency=medium

  * New upstream release 0.0.118     - (tagged by Antoine Lambert
    <antoine.lambert@inria.fr> on 2019-01-09 16:59:15 +0100)
  * Upstream changes:     - version 0.0.118

 -- Software Heritage autobuilder (on jenkins-debian1) <jenkins@jenkins-debian1.internal.softwareheritage.org>  Wed, 09 Jan 2019 18:51:34 +0000

swh-storage (0.0.117-1~swh1) unstable-swh; urgency=medium

  * v0.0.117
  * listener: Adapt decoding behavior depending on the object type

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 20 Dec 2018 14:48:44 +0100

swh-storage (0.0.116-1~swh1) unstable-swh; urgency=medium

  * v0.0.116
  * Update requirements to latest swh.core

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 14 Dec 2018 15:57:04 +0100

swh-storage (0.0.115-1~swh1) unstable-swh; urgency=medium

  * version 0.0.115

 -- Antoine Lambert <antoine.lambert@inria.fr>  Fri, 14 Dec 2018 15:47:52 +0100

swh-storage (0.0.114-1~swh1) unstable-swh; urgency=medium

  * version 0.0.114

 -- Antoine Lambert <antoine.lambert@inria.fr>  Wed, 05 Dec 2018 10:59:49 +0100

swh-storage (0.0.113-1~swh1) unstable-swh; urgency=medium

  * v0.0.113
  * in-memory storage: Add recursive argument to directory_ls endpoint

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 30 Nov 2018 11:56:44 +0100

swh-storage (0.0.112-1~swh1) unstable-swh; urgency=medium

  * v0.0.112
  * in-memory storage: Align with existing storage
  * docstring: Improvements and adapt according to api
  * doc: update index to match new swh-doc format
  * Increase test coverage for stat_counters + fix its bugs.

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 30 Nov 2018 10:28:02 +0100

swh-storage (0.0.111-1~swh1) unstable-swh; urgency=medium

  * v0.0.111
  * Move generative tests in their own module
  * Open in-memory storage implementation

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 21 Nov 2018 08:55:14 +0100

swh-storage (0.0.110-1~swh1) unstable-swh; urgency=medium

  * v0.0.110
  * storage: Open content_get_range endpoint
  * tests: Start using hypothesis for tests generation
  * Improvements: Remove SQLisms from the tests and API
  * docs: Document metadata providers

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 16 Nov 2018 11:53:14 +0100

swh-storage (0.0.109-1~swh1) unstable-swh; urgency=medium

  * version 0.0.109

 -- Antoine Lambert <antoine.lambert@inria.fr>  Mon, 12 Nov 2018 14:11:09 +0100

swh-storage (0.0.108-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.108
  * Add a function to get a full snapshot from the paginated view

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 18 Oct 2018 18:32:10 +0200

swh-storage (0.0.107-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.107
  * Enable pagination of snapshot branches
  * Drop occurrence-related tables
  * Drop entity-related tables

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 17 Oct 2018 15:06:07 +0200

swh-storage (0.0.106-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.106
  * Fix origin_visit_get_latest_snapshot logic
  * Improve directory iterator
  * Drop backwards compatibility between snapshots and occurrences
  * Drop the occurrence table

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Mon, 08 Oct 2018 17:03:54 +0200

swh-storage (0.0.105-1~swh1) unstable-swh; urgency=medium

  * v0.0.105
  * Increase directory_ls endpoint to 20 seconds
  * Add snapshot to the stats endpoint
  * Improve documentation

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Mon, 10 Sep 2018 11:36:27 +0200

swh-storage (0.0.104-1~swh1) unstable-swh; urgency=medium

  * version 0.0.104

 -- Antoine Lambert <antoine.lambert@inria.fr>  Wed, 29 Aug 2018 15:55:37 +0200

swh-storage (0.0.103-1~swh1) unstable-swh; urgency=medium

  * v0.0.103
  * swh.storage.storage: origin_add returns updated list of dict with id

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Mon, 30 Jul 2018 11:47:53 +0200

swh-storage (0.0.102-1~swh1) unstable-swh; urgency=medium

  * Release swh-storage v0.0.102
  * Stop using temporary tables for read-only queries
  * Add timeouts for some read-only queries

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 05 Jun 2018 14:06:54 +0200

swh-storage (0.0.101-1~swh1) unstable-swh; urgency=medium

  * v0.0.101
  * swh.storage.api.client: Permit to specify the query timeout option

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 24 May 2018 12:13:51 +0200

swh-storage (0.0.100-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.100
  * remote api: only instantiate storage once per import
  * add thread-awareness to the storage implementation
  * properly cleanup after tests
  * parallelize objstorage and storage additions

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Sat, 12 May 2018 18:12:40 +0200

swh-storage (0.0.99-1~swh1) unstable-swh; urgency=medium

  * v0.0.99
  * storage: Add methods to compute directories/revisions diff
  * Add a new table for "bucketed" object counts
  * doc: update table clusters in SQL diagram
  * swh.storage.content_missing: Improve docstring

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 20 Feb 2018 13:32:25 +0100

swh-storage (0.0.98-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.98
  * Switch backwards compatibility for snapshots off

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 06 Feb 2018 15:27:15 +0100

swh-storage (0.0.97-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.97
  * refactor database initialization
  * use a separate thread instead of a temporary file for COPY
    operations
  * add more snapshot-related endpoints

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 06 Feb 2018 14:07:07 +0100

swh-storage (0.0.96-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.96
  * Add snapshot models
  * Add support for hg revision type

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 19 Dec 2017 16:25:57 +0100

swh-storage (0.0.95-1~swh1) unstable-swh; urgency=medium

  * v0.0.95
  * swh.storage: Rename indexer_configuration to tool
  * swh.storage: Migrate indexer model to its own model

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 07 Dec 2017 09:56:31 +0100

swh-storage (0.0.94-1~swh1) unstable-swh; urgency=medium

  * v0.0.94
  * Open searching origins methods to storage

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 05 Dec 2017 12:32:57 +0100

swh-storage (0.0.93-1~swh1) unstable-swh; urgency=medium

  * v0.0.93
  * swh.storage: Open indexer_configuration_add endpoint
  * swh-data: Update content mimetype indexer configuration
  * origin_visit_get: make order repeatable
  * db: Make unique indices actually unique and vice versa
  * Add origin_metadata endpoints (add, get, etc...)
  * cleanup: Remove unused content provenance cache tables

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 24 Nov 2017 11:14:11 +0100

swh-storage (0.0.92-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.92
  * make swh.storage.schemata work on SQLAlchemy 1.0

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 12 Oct 2017 19:51:24 +0200

swh-storage (0.0.91-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage version 0.0.91
  * Update packaging runes

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 12 Oct 2017 18:41:46 +0200

swh-storage (0.0.90-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.90
  * Remove leaky dependency on python3-kafka

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 11 Oct 2017 18:53:22 +0200

swh-storage (0.0.89-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.89
  * Add new package for ancillary schemata
  * Add new metadata-related entry points
  * Update for new swh.model

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 11 Oct 2017 17:39:29 +0200

swh-storage (0.0.88-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.88
  * Move the archiver to its own module
  * Prepare building for stretch

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 30 Jun 2017 14:52:12 +0200

swh-storage (0.0.87-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.87
  * update tasks to new swh.scheduler api

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Mon, 12 Jun 2017 17:54:11 +0200

swh-storage (0.0.86-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.86
  * archiver updates

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 06 Jun 2017 18:43:43 +0200

swh-storage (0.0.85-1~swh1) unstable-swh; urgency=medium

  * v0.0.85
  * Improve license endpoint's unknown license policy

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 06 Jun 2017 17:55:40 +0200

swh-storage (0.0.84-1~swh1) unstable-swh; urgency=medium

  * v0.0.84
  * Update indexer endpoints to use indexer configuration id
  * Add indexer configuration endpoint

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 02 Jun 2017 16:16:47 +0200

swh-storage (0.0.83-1~swh1) unstable-swh; urgency=medium

  * v0.0.83
  * Add blake2s256 new hash computation on content

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 31 Mar 2017 12:27:09 +0200

swh-storage (0.0.82-1~swh1) unstable-swh; urgency=medium

  * v0.0.82
  * swh.storage.listener: Subscribe to new origin notifications
  * sql/swh-func: improve equality check on the three columns for
    swh_content_missing
  * swh.storage: add length to directory listing primitives
  * refactoring: Migrate from swh.core.hashutil to swh.model.hashutil
  * swh.storage.archiver.updater: Create a content updater journal
    client
  * vault: add a git fast-import cooker
  * vault: generic cache to allow multiple cooker types and formats

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 21 Mar 2017 14:50:16 +0100

swh-storage (0.0.81-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.81
  * archiver improvements for mass injection in azure

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 09 Mar 2017 11:15:28 +0100

swh-storage (0.0.80-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.80
  * archiver improvements related to the mass injection of contents in
    azure
  * updates to the vault cooker

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 07 Mar 2017 15:12:35 +0100

swh-storage (0.0.79-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.79
  * archiver: keep counts of objects in each archive
  * converters: normalize timestamps using swh.model

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 14 Feb 2017 19:37:36 +0100

swh-storage (0.0.78-1~swh1) unstable-swh; urgency=medium

  * v0.0.78
  * Refactoring some common code into swh.core + adaptation api calls in
  * swh.objstorage and swh.storage (storage and vault)

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 26 Jan 2017 15:08:03 +0100

swh-storage (0.0.77-1~swh1) unstable-swh; urgency=medium

  * v0.0.77
  * Paginate results for origin_visits endpoint

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 19 Jan 2017 14:41:49 +0100

swh-storage (0.0.76-1~swh1) unstable-swh; urgency=medium

  * v0.0.76
  * Unify storage and objstorage configuration and instantiation
    functions

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 15 Dec 2016 18:25:58 +0100

swh-storage (0.0.75-1~swh1) unstable-swh; urgency=medium

  * v0.0.75
  * Add information on indexer tools (T610)

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 02 Dec 2016 18:21:36 +0100

swh-storage (0.0.74-1~swh1) unstable-swh; urgency=medium

  * v0.0.74
  * Use strict equality for content ctags' symbols search

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 29 Nov 2016 17:25:29 +0100

swh-storage (0.0.73-1~swh1) unstable-swh; urgency=medium

  * v0.0.73
  * Improve ctags search query for edge cases

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Mon, 28 Nov 2016 16:34:55 +0100

swh-storage (0.0.72-1~swh1) unstable-swh; urgency=medium

  * v0.0.72
  * Permit pagination on content_ctags_search api endpoint

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 24 Nov 2016 14:19:29 +0100

swh-storage (0.0.71-1~swh1) unstable-swh; urgency=medium

  * v0.0.71
  * Open full-text search endpoint on ctags

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 23 Nov 2016 17:33:51 +0100

swh-storage (0.0.70-1~swh1) unstable-swh; urgency=medium

  * v0.0.70
  * Add new license endpoints (add/get)
  * Update ctags endpoints to align update conflict policy

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 10 Nov 2016 17:27:49 +0100

swh-storage (0.0.69-1~swh1) unstable-swh; urgency=medium

  * v0.0.69
  * storage: Open ctags entry points (missing, add, get)
  * storage: allow adding several origins at once

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 20 Oct 2016 16:07:07 +0200

swh-storage (0.0.68-1~swh1) unstable-swh; urgency=medium

  * v0.0.68
  * indexer: Open mimetype/language get endpoints
  * indexer: Add the mimetype/language add function with conflict_update
    flag
  * archiver: Extend worker-to-backend to transmit messages to another
  * queue (once done)

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 13 Oct 2016 15:30:21 +0200

swh-storage (0.0.67-1~swh1) unstable-swh; urgency=medium

  * v0.0.67
  * Fix provenance storage init function

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 12 Oct 2016 02:24:12 +0200

swh-storage (0.0.66-1~swh1) unstable-swh; urgency=medium

  * v0.0.66
  * Improve provenance configuration format

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 12 Oct 2016 01:39:26 +0200

swh-storage (0.0.65-1~swh1) unstable-swh; urgency=medium

  * v0.0.65
  * Open api entry points for swh.indexer about content mimetype and
  * language
  * Update schema graph to latest version

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Sat, 08 Oct 2016 10:00:30 +0200

swh-storage (0.0.64-1~swh1) unstable-swh; urgency=medium

  * v0.0.64
  * Fix: Missing incremented version 5 for archiver.dbversion
  * Retrieve information on a content cached
  * sql/swh-func: content cache populates lines in deterministic order

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 29 Sep 2016 21:50:59 +0200

swh-storage (0.0.63-1~swh1) unstable-swh; urgency=medium

  * v0.0.63
  * Make the 'worker to backend' destination agnostic (message
    parameter)
  * Improve 'unknown sha1' policy (archiver db can lag behind swh db)
  * Improve 'force copy' policy

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 23 Sep 2016 12:29:50 +0200

swh-storage (0.0.62-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.62
  * Updates to the provenance cache to reduce churn on the main tables

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 22 Sep 2016 18:54:52 +0200

swh-storage (0.0.61-1~swh1) unstable-swh; urgency=medium

  * v0.0.61
  * Handle copies of unregistered sha1 in archiver db
  * Fix copy to only the targeted destination
  * Update to latest python3-swh.core dependency

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 22 Sep 2016 13:44:05 +0200

swh-storage (0.0.60-1~swh1) unstable-swh; urgency=medium

  * v0.0.60
  * Update archiver dependencies

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 20 Sep 2016 16:46:48 +0200

swh-storage (0.0.59-1~swh1) unstable-swh; urgency=medium

  * v0.0.59
  * Unify configuration property between director/worker
  * Deal with potential missing contents in the archiver db
  * Improve get_contents_error implementation
  * Remove dead code in swh.storage.db about archiver

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Sat, 17 Sep 2016 12:50:14 +0200

swh-storage (0.0.58-1~swh1) unstable-swh; urgency=medium

  * v0.0.58
  * ArchiverDirectorToBackend reads sha1 from stdin and sends chunks of
    sha1
  * for archival.

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 16 Sep 2016 22:17:14 +0200

swh-storage (0.0.57-1~swh1) unstable-swh; urgency=medium

  * v0.0.57
  * Update swh.storage.archiver

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 15 Sep 2016 16:30:11 +0200

swh-storage (0.0.56-1~swh1) unstable-swh; urgency=medium

  * v0.0.56
  * Vault: Add vault implementation (directory cooker & cache
  * implementation + its api)
  * Archiver: Add another archiver implementation (direct to backend)

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 15 Sep 2016 10:56:35 +0200

swh-storage (0.0.55-1~swh1) unstable-swh; urgency=medium

  * v0.0.55
  * Fix origin_visit endpoint

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 08 Sep 2016 15:21:28 +0200

swh-storage (0.0.54-1~swh1) unstable-swh; urgency=medium

  * v0.0.54
  * Open origin_visit_get_by entry point

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Mon, 05 Sep 2016 12:36:34 +0200

swh-storage (0.0.53-1~swh1) unstable-swh; urgency=medium

  * v0.0.53
  * Add cache about content provenance
  * debian: fix python3-swh.storage.archiver runtime dependency
  * debian: create new package python3-swh.storage.provenance

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 02 Sep 2016 11:14:09 +0200

swh-storage (0.0.52-1~swh1) unstable-swh; urgency=medium

  * v0.0.52
  * Package python3-swh.storage.archiver

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 25 Aug 2016 14:55:23 +0200

swh-storage (0.0.51-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.51
  * Add new metadata column to origin_visit
  * Update swh-add-directory script for updated API

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 24 Aug 2016 14:36:03 +0200

swh-storage (0.0.50-1~swh1) unstable-swh; urgency=medium

  * v0.0.50
  * Add a function to pull (only) metadata for a list of contents
  * Update occurrence_add api entry point to properly deal with
    origin_visit
  * Add origin_visit api entry points to create/update origin_visit

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 23 Aug 2016 16:29:26 +0200

swh-storage (0.0.49-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.49
  * Proper dependency on python3-kafka

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 19 Aug 2016 13:45:52 +0200

swh-storage (0.0.48-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.48
  * Updates to the archiver
  * Notification support for new object creations

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 19 Aug 2016 12:13:50 +0200

swh-storage (0.0.47-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.47
  * Update storage archiver to new schemaless schema

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 22 Jul 2016 16:59:19 +0200

swh-storage (0.0.46-1~swh1) unstable-swh; urgency=medium

  * v0.0.46
  * Update archiver bootstrap

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 20 Jul 2016 19:04:42 +0200

swh-storage (0.0.45-1~swh1) unstable-swh; urgency=medium

  * v0.0.45
  * Separate swh.storage.archiver's db from swh.storage.storage

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Tue, 19 Jul 2016 15:05:36 +0200

swh-storage (0.0.44-1~swh1) unstable-swh; urgency=medium

  * v0.0.44
  * Open listing visits per origin api

 -- Quentin Campos <qcampos@etud.u-pem.fr>  Fri, 08 Jul 2016 11:27:10 +0200

swh-storage (0.0.43-1~swh1) unstable-swh; urgency=medium

  * v0.0.43
  * Extract objstorage to its own package swh.objstorage

 -- Quentin Campos <qcampos@etud.u-pem.fr>  Mon, 27 Jun 2016 14:57:12 +0200

swh-storage (0.0.42-1~swh1) unstable-swh; urgency=medium

  * Add an object storage multiplexer to allow transition between
    multiple versions of object storages.

 -- Quentin Campos <qcampos@etud.u-pem.fr>  Tue, 21 Jun 2016 15:03:52 +0200

swh-storage (0.0.41-1~swh1) unstable-swh; urgency=medium

  * Refactoring of the object storage in order to allow multiple
    versions of it, as well as a multiplexer for version transition.

 -- Quentin Campos <qcampos@etud.u-pem.fr>  Thu, 16 Jun 2016 15:54:16 +0200

swh-storage (0.0.40-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.40:
  * Refactor objstorage to allow for different implementations
  * Updates to the checker functionality
  * Bump swh.core dependency to v0.0.20

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 14 Jun 2016 17:25:42 +0200

swh-storage (0.0.39-1~swh1) unstable-swh; urgency=medium

  * v0.0.39
  * Add run_from_webserver function for objstorage api server
  * Add unique identifier message on default api server route endpoints

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 20 May 2016 15:27:34 +0200

swh-storage (0.0.38-1~swh1) unstable-swh; urgency=medium

  * v0.0.38
  * Add an http api for object storage
  * Implement an archiver to perform backup copies

 -- Quentin Campos <qcampos@etud.u-pem.fr>  Fri, 20 May 2016 14:40:14 +0200

swh-storage (0.0.37-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.37
  * Add fullname to person table
  * Add svn as a revision type

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 08 Apr 2016 16:44:24 +0200

swh-storage (0.0.36-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage v0.0.36
  * Add json-schema documentation for the jsonb fields
  * Overhaul entity handling

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 16 Mar 2016 17:27:17 +0100

swh-storage (0.0.35-1~swh1) unstable-swh; urgency=medium

  * Release swh-storage v0.0.35
  * Factor in temporary tables with only an id (db v059)
  * Allow generic object search by sha1_git (db v060)

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 25 Feb 2016 16:21:01 +0100

swh-storage (0.0.34-1~swh1) unstable-swh; urgency=medium

  * Release swh.storage version 0.0.34
  * occurrence improvements
  * commit metadata improvements

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 19 Feb 2016 18:20:07 +0100

swh-storage (0.0.33-1~swh1) unstable-swh; urgency=medium

  * Bump swh.storage to version 0.0.33

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 05 Feb 2016 11:17:00 +0100

swh-storage (0.0.32-1~swh1) unstable-swh; urgency=medium

  * v0.0.32
  * Let the person's id flow
  * sql/upgrades/051: 050->051 schema change
  * sql/upgrades/050: 049->050 schema change - Clean up obsolete
    functions
  * sql/upgrades/049: Final take for 048->049 schema change.
  * sql: Use a new schema for occurrences

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 29 Jan 2016 17:44:27 +0100

swh-storage (0.0.31-1~swh1) unstable-swh; urgency=medium

  * v0.0.31
  * Deal with occurrence_history.branch, occurrence.branch, release.name
    as bytes

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 27 Jan 2016 15:45:53 +0100

swh-storage (0.0.30-1~swh1) unstable-swh; urgency=medium

  * Prepare swh.storage v0.0.30 release
  * type-agnostic occurrences and revisions

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 26 Jan 2016 07:36:43 +0100

swh-storage (0.0.29-1~swh1) unstable-swh; urgency=medium

  * v0.0.29
  * New:
  * Upgrade sql schema to 041043
  * Deal with communication downtime between clients and storage
  * Open occurrence_get(origin_id) to retrieve latest occurrences per
    origin
  * Open release_get_by to retrieve a release by origin
  * Open directory_get to retrieve information on directory by id
  * Open entity_get to retrieve information on entity + hierarchy from
    its uuid
  * Open directory_get that retrieve information on directory per id
  * Update:
  * directory_get/directory_ls: Rename to directory_ls
  * revision_log: update to retrieve logs from multiple root revisions
  * revision_get_by: branch name filtering is now optional

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 20 Jan 2016 16:15:50 +0100

swh-storage (0.0.28-1~swh1) unstable-swh; urgency=medium

  * v0.0.28
  * Open entity_get api

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 15 Jan 2016 16:37:27 +0100

swh-storage (0.0.27-1~swh1) unstable-swh; urgency=medium

  * v0.0.27
  * Open directory_entry_get_by_path api
  * Improve get_revision_by api performance
  * sql/swh-schema: add index on origin(type, url) --> improve origin
    lookup api
  * Bump to 039 db version

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 15 Jan 2016 12:42:47 +0100

swh-storage (0.0.26-1~swh1) unstable-swh; urgency=medium

  * v0.0.26
  * Open revision_get_by to retrieve a revision by occurrence criterion
    filtering
  * sql/upgrades/036: add 035036 upgrade script

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 13 Jan 2016 12:46:44 +0100

swh-storage (0.0.25-1~swh1) unstable-swh; urgency=medium

  * v0.0.25
  * Limit results in swh_revision_list*
  * Create the package to align the current db production version on
    https://archive.softwareheritage.org/

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 08 Jan 2016 11:33:08 +0100

swh-storage (0.0.24-1~swh1) unstable-swh; urgency=medium

  * Prepare swh.storage release v0.0.24
  * Add a limit argument to revision_log

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 06 Jan 2016 15:12:53 +0100

swh-storage (0.0.23-1~swh1) unstable-swh; urgency=medium

  * v0.0.23
  * Protect against overflow, wrapped in ValueError for client
  * Fix relative path import for remote storage.
  * api to retrieve revision_log is now 'parents' aware

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Wed, 06 Jan 2016 11:30:58 +0100

swh-storage (0.0.22-1~swh1) unstable-swh; urgency=medium

  * Release v0.0.22
  * Fix relative import for remote storage

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 16 Dec 2015 16:04:48 +0100

swh-storage (0.0.21-1~swh1) unstable-swh; urgency=medium

  * Prepare release v0.0.21
  * Protect the storage api client from overflows
  * Add a get_storage function mapping to local or remote storage

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Wed, 16 Dec 2015 13:34:46 +0100

swh-storage (0.0.20-1~swh1) unstable-swh; urgency=medium

  * v0.0.20
  * allow numeric timestamps with offset
  * Open revision_log api
  * start migration to swh.model

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Mon, 07 Dec 2015 15:20:36 +0100

swh-storage (0.0.19-1~swh1) unstable-swh; urgency=medium

  * v0.0.19
  * Improve directory listing with content data
  * Open person_get
  * Open release_get data reading
  * Improve origin_get api
  * Effort to unify api output on dict (for read)
  * Migrate backend to 032

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Fri, 27 Nov 2015 13:33:34 +0100

swh-storage (0.0.18-1~swh1) unstable-swh; urgency=medium

  * v0.0.18
  * Improve origin_get to permit retrieval per id
  * Update directory_get implementation (add join from
  * directory_entry_file to content)
  * Open release_get : [sha1] -> [Release]

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 19 Nov 2015 11:18:35 +0100

swh-storage (0.0.17-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.17
  * Add some entity related entry points

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 03 Nov 2015 16:40:59 +0100

swh-storage (0.0.16-1~swh1) unstable-swh; urgency=medium

  * v0.0.16
  * Add metadata column in revision (db version 29)
  * cache http connection for remote storage client

 -- Antoine R. Dumont (@ardumont) <antoine.romain.dumont@gmail.com>  Thu, 29 Oct 2015 10:29:00 +0100

swh-storage (0.0.15-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.15
  * Allow population of fetch_history
  * Update organizations / projects as entities
  * Use schema v028 for directory addition

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 27 Oct 2015 11:43:39 +0100

swh-storage (0.0.14-1~swh1) unstable-swh; urgency=medium

  * Prepare swh.storage v0.0.14 deployment

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 16 Oct 2015 15:34:08 +0200

swh-storage (0.0.13-1~swh1) unstable-swh; urgency=medium

  * Prepare deploying swh.storage v0.0.13

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 16 Oct 2015 14:51:44 +0200

swh-storage (0.0.12-1~swh1) unstable-swh; urgency=medium

  * Prepare deploying swh.storage v0.0.12

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 13 Oct 2015 12:39:18 +0200

swh-storage (0.0.11-1~swh1) unstable-swh; urgency=medium

  * Preparing deployment of swh.storage v0.0.11

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Fri, 09 Oct 2015 17:44:51 +0200

swh-storage (0.0.10-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.10

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 06 Oct 2015 17:37:00 +0200

swh-storage (0.0.9-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.9

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 01 Oct 2015 19:03:00 +0200

swh-storage (0.0.8-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.8

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Thu, 01 Oct 2015 11:32:46 +0200

swh-storage (0.0.7-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.7

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 29 Sep 2015 16:52:54 +0200

swh-storage (0.0.6-1~swh1) unstable-swh; urgency=medium

  * Prepare deployment of swh.storage v0.0.6

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 29 Sep 2015 16:43:24 +0200

swh-storage (0.0.5-1~swh1) unstable-swh; urgency=medium

  * Prepare deploying swh.storage v0.0.5

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 29 Sep 2015 16:27:00 +0200

swh-storage (0.0.1-1~swh1) unstable-swh; urgency=medium

  * Initial release
  * swh.storage.api: Properly escape arbitrary byte sequences in
    arguments

 -- Nicolas Dandrimont <nicolas@dandrimont.eu>  Tue, 22 Sep 2015 17:02:34 +0200
